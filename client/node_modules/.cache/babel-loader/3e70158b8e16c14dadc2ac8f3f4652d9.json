{"ast":null,"code":"var _jsxFileName = \"/Users/ganeshtummala/Desktop/5394/ohsfron/client/src/components/SignIn.js\",\n    _s = $RefreshSig$();\n\nimport { useState } from 'react';\nimport { Link, useLocation, useHistory } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Signin({\n  setloggedState,\n  setdisplayNav\n}) {\n  _s();\n\n  const [Username, setUsername] = useState(\"\");\n  const [Password, setPassword] = useState(\"\");\n  const [message, setMessage] = useState(\"\"); // let location = useLocation();\n\n  let history = useHistory();\n\n  async function loginUser(credentials) {\n    return fetch('http://localhost:5000/api/login', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(credentials)\n    }).then(data => data.json());\n  } //Validate credentials\n\n\n  const validate = async e => {\n    const reply = await loginUser({\n      Username,\n      Password\n    });\n    console.log(\"Reply \", reply);\n\n    if (reply.hasOwnProperty('token')) {\n      setTimeout(() => {\n        history.push(\"/home\");\n        setdisplayNav(true);\n        setloggedState(true);\n        localStorage.setItem(\"token\", reply['token']);\n        localStorage.setItem(\"id\", reply[\"userid\"]);\n      }, 100);\n    } else {\n      console.log(\"Invalid credentials \", reply.message);\n      setMessage(reply.message);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"vh-100 dt w-100 bg-lightest-blue\",\n    children: [message ? /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"alert alert-danger tc\",\n      role: \"alert\",\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 4\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \" pa5 modal-dialog modal-login\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"modal-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"modal-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"avatar\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: \"https://www.materiell.com/wp-content/uploads/2015/04/deven-full1.png\",\n              alt: \"Avatar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 7\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 6\n          }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n            class: \"modal-title\",\n            children: \"Member Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 6\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"modal-body\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"form-group\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              class: \"form-control\",\n              name: \"username\",\n              placeholder: \"Username\",\n              onChange: e => setUsername(e.target.value),\n              required: \"required\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"form-group\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              class: \"form-control\",\n              name: \"password\",\n              placeholder: \"Password\",\n              onChange: e => setPassword(e.target.value),\n              required: \"required\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"form-group\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              class: \"btn btn-primary btn-lg btn-block login-btn\",\n              onClick: validate,\n              children: \"Login\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"modal-footer flex flex-column\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"\",\n            children: [\"Don't have an account?\", /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/signup\",\n              children: \"Sign Up\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 4\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"\",\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/forgotPassword\",\n              children: \"Forgot Password?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 4\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 5\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 4\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 3\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 3\n  }, this);\n}\n\n_s(Signin, \"BEboHVigRfFDPpMjI4iVeMe8tws=\", false, function () {\n  return [useHistory];\n});\n\n_c = Signin;\nexport default Signin;\n\nvar _c;\n\n$RefreshReg$(_c, \"Signin\");","map":{"version":3,"sources":["/Users/ganeshtummala/Desktop/5394/ohsfron/client/src/components/SignIn.js"],"names":["useState","Link","useLocation","useHistory","Signin","setloggedState","setdisplayNav","Username","setUsername","Password","setPassword","message","setMessage","history","loginUser","credentials","fetch","method","headers","body","JSON","stringify","then","data","json","validate","e","reply","console","log","hasOwnProperty","setTimeout","push","localStorage","setItem","target","value"],"mappings":"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","sourcesContent":["import {useState} from 'react';\nimport {Link, useLocation, useHistory} from 'react-router-dom'\nfunction Signin({ setloggedState, setdisplayNav}){\n\tconst [Username, setUsername] = useState(\"\");\n\tconst [Password, setPassword] = useState(\"\");\n\tconst [message, setMessage] = useState(\"\");\n\t// let location = useLocation();\n\tlet history = useHistory();\n\n\n\tasync function loginUser(credentials) {\n\t\treturn fetch('http://localhost:5000/api/login', {\n\t\t  method: 'POST',\n\t\t  headers: {\n\t\t\t'Content-Type': 'application/json'\n\t\t  },\n\t\t  body: JSON.stringify(credentials)\n\t\t})\n\t\t  .then(data => data.json())\n\t   }\n\n\n\t //Validate credentials\n\t const validate = async (e) => {\n\t\tconst reply = await loginUser({\n\t\t\tUsername, Password\n\t\t})\n\t\tconsole.log(\"Reply \", reply)\n\t\tif(reply.hasOwnProperty('token')){\n\t\t\tsetTimeout(() => {\n\t\t\t\thistory.push(\"/home\")\n\t\t\t\tsetdisplayNav(true);\n\t\t\t\tsetloggedState(true);\n\t\t\t\tlocalStorage.setItem(\"token\", reply['token']);\n\t\t\t\tlocalStorage.setItem(\"id\", reply[\"userid\"]);\n\t\t\t  }, 100);\n\t\t\t\n\t\t}else{\n\t\t\tconsole.log(\"Invalid credentials \", reply.message);\n\t\t\tsetMessage(reply.message);\n\t\t}\n\t\t\n\t  }\n\n\n\treturn (\n\t\t<div className=\"vh-100 dt w-100 bg-lightest-blue\">\n\t\t{\n\t\t\tmessage?\n\t\t\t<div class=\"alert alert-danger tc\" role=\"alert\">\n\t\t\t\t{message}\n\t\t\t</div>\n\t\t\t:<div></div>\n\t\t}\n\t\t<div class=\" pa5 modal-dialog modal-login\">\n\t\t\t<div class=\"modal-content\">\n\t\t\t\t<div class=\"modal-header\">\n\t\t\t\t\t<div class=\"avatar\">\n\t\t\t\t\t\t<img src=\"https://www.materiell.com/wp-content/uploads/2015/04/deven-full1.png\" alt=\"Avatar\"/>\n\t\t\t\t\t</div>\t\t\t\t\n\t\t\t\t\t<h4 class=\"modal-title\">Member Login</h4>\t\n\t\t\t\t</div>\n\t\t\t\t<div class=\"modal-body\">\n\t\t\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t\t\t<input type=\"text\" class=\"form-control\" name=\"username\" placeholder=\"Username\" onChange = {(e)=> setUsername(e.target.value)} required=\"required\"/>\t\t\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t\t\t<input type=\"password\" class=\"form-control\" name=\"password\" placeholder=\"Password\" onChange = {(e)=> setPassword(e.target.value)}  required=\"required\"/>\t\n\t\t\t\t\t\t</div>        \n\t\t\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t\t\t{/* {renderRedirect()} */}\n\t\t\t\t\t\t\t<button  type=\"button\" class=\"btn btn-primary btn-lg btn-block login-btn\" onClick={validate}>Login</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"modal-footer flex flex-column\">\n\t\t\t<div className=\"\">\n\t\t\t\t\t\tDon't have an account?<Link to=\"/signup\">Sign Up</Link>\n\t\t\t\t\t</div>\n\t\t\t<div className=\"\">\n\t\t\t\t\t  <Link to=\"/forgotPassword\">Forgot Password?</Link>\n\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\n\t\n\t\t</div>\n\t);\n}\n\n\nexport default Signin;"]},"metadata":{},"sourceType":"module"}